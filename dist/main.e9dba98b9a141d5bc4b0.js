(()=>{"use strict";(()=>{class t{constructor(t,e,a,i,s){this.id=t,this.name=e,this.age=a,this.favourite=i,this.img_link=s}render(){let t="";t=!0===this.favourite?'<i class="fa-solid fa-heart"></i>':'<i class="fa-regular fa-heart"></i>';const e=document.createElement("li");e.innerHTML=`<li class="cats__item"><img class="cats__photo" src="${this.img_link}" alt=""><div class="cats__desc"><h3 class="cats__name">${this.name}   </h3><div class="cats__like">${t}</div></div></li>`,document.querySelector(".cats__list").append(e)}updateLike(){}addListeners(){document.querySelectorAll(".cats__like").forEach((t=>{t.addEventListener("click",(e=>{let a={};!0===this.favourite?(t.innerHTML='<i class="fa-regular fa-heart"></i>',a={favourite:!1},fetch("https://sb-cats.herokuapp.com/api/2/SmirnovMaks/update/"+this.id,{method:"PUT",body:JSON.stringify(a),headers:{"Content-type":"application/json; charset=UTF-8"}}),this.updateLike()):!1===this.favourite&&(t.innerHTML='<i class="fa-solid fa-heart"></i>',a={favourite:!0},fetch("https://sb-cats.herokuapp.com/api/2/SmirnovMaks/update/"+this.id,{method:"PUT",body:JSON.stringify(a),headers:{"Content-type":"application/json; charset=UTF-8"}}),this.updateLike())}))}))}init(){this.render(),this.addListeners()}}(()=>{let e=document.querySelector(".cats__list"),a=document.querySelector(".cats__load"),i=document.querySelector(".cats__add");a.innerHTML="",e.innerHTML="",fetch("https://sb-cats.herokuapp.com/api/2/SmirnovMaks/show").then((t=>t.json())).then((e=>{(e=e.data).forEach((e=>{new t(e.id,e.name,e.age,e.favourite,e.img_link).init()})),i.style.display="block"})).catch((t=>{document.querySelector(".cats__load").textContent="Что-то пошло не так. Пожалуйста обновите страницу"}))})()})()})();